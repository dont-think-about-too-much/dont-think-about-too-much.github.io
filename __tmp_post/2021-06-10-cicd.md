---
layout: post
title: CICD githubAction, codeDeploy [ Node 백엔드 제작시 마주칠 것들 ]
tags: [Node, Backend, CICD]
---

이번주는 기존 회사 서비스에 CICD를 구축한다. 기존에 없었던게 이상한 것이지만..
(원래 다 그렇지않나? 금방 못하겠지~ 하고 나중에 미뤄뒀다가 금방 해내버리면 진즉에 할걸! 후회하는..)

환경설정부터 하면 재미가 없다. 그러니 코드부터 봐보자.

# Github Action 파일
1. 프로젝트 root에 .github/workflows 디렉토리를 만들고 깃헙 액션에 관한 yml 파일을 만든다.<br>
ex) .github/workflows/github-actions-test.yml





# EC2
## 필요 설정 사항

### IAM Role
1. AmazonS3FullAccess
2. AWSCodeDeployFullAccess
3. AWSCodeDeployRole

### 외부에서 서버에 접근할 포트를 오픈
이번 프로젝트에선 `:3000`으로 연결한다.

### 테그
CodeDeploy에서 EC2를 검색할 때 이용한다.






## References
- [githubAction node](https://docs.github.com/en/actions/guides/building-and-testing-nodejs)
- [Github Action, AWS codeDeploy를 사용하여 자동 배포하기!](https://bohyeon-n.github.io/deploy/devops/github_action.html)
- [starter-workflows for nodejs](https://github.com/actions/starter-workflows/blob/main/ci/node.js.yml)